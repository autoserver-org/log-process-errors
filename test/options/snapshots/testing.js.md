# Snapshot report for `test/options/testing.js`

The actual snapshot is saved in `testing.js.snap`.

Generated by [AVA](https://ava.li).

## should allow overriding 'opts.level' | multipleResolves ava

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `√ should make tests fail on multipleResolves␊
      ␊
        1 test passed`,
    }

## should allow overriding 'opts.level' | multipleResolves jasmine

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      1 spec, 0 failures␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should allow overriding 'opts.level' | multipleResolves mocha

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `should make tests fail␊
          √ on multipleResolves␊
      ␊
      ␊
        1 passing`,
    }

## should allow overriding 'opts.level' | multipleResolves node-tap:default

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `TAP version 13␊
      ok 1 -  #  {␊
          # Subtest: should make tests fail on multipleResolves␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on multipleResolves # ␊
          ␊
          1..1␊
          # ␊
      }␊
      ␊
      1..1␊
      # `,
    }

## should allow overriding 'opts.level' | multipleResolves node-tap:tap

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `TAP version 13␊
      ok 1 -  #  {␊
          # Subtest: should make tests fail on multipleResolves␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on multipleResolves # ␊
          ␊
          1..1␊
          # ␊
      }␊
      ␊
      1..1␊
      # `,
    }

## should allow overriding 'opts.level' | multipleResolves tape

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on multipleResolves␊
      ok 1 (unnamed assert)␊
      ␊
      1..1␊
      # tests 1␊
      # pass  1␊
      ␊
      # ok`,
    }

## should allow overriding 'opts.level' | rejectionHandled jasmine

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Unhandled promise rejection: Error: message␊
        Stack:␊
          Error: message␊
              at STACK TRACE␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should allow overriding 'opts.level' | rejectionHandled mocha

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `should make tests fail␊
          √ on rejectionHandled␊
      ␊
      ␊
        1 passing`,
    }

## should allow overriding 'opts.level' | rejectionHandled node-tap:default

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on rejectionHandled␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on rejectionHandled # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: unhandledRejection␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should allow overriding 'opts.level' | rejectionHandled node-tap:tap

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on rejectionHandled␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on rejectionHandled # ␊
          ␊
          not ok 2 - message␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should allow overriding 'opts.level' | rejectionHandled tape

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on rejectionHandled␊
      ok 1 (unnamed assert)␊
      ␊
      1..1␊
      # tests 1␊
      # pass  1␊
      ␊
      # ok`,
    }

## should allow overriding 'opts.level' | uncaughtException ava

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `√ should make tests fail on uncaughtException␊
      ␊
        Uncaught exception in   Error: message␊
      ␊
        ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 uncaught exception`,
    }

## should allow overriding 'opts.level' | uncaughtException jasmine

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Uncaught exception: Error: message␊
        Stack:␊
          Error: message␊
              at STACK TRACE␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should allow overriding 'opts.level' | uncaughtException mocha

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on uncaughtException␊
          1) on uncaughtException␊
      ␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on uncaughtException:␊
           Uncaught Error: message␊
            at STACK TRACE`,
    }

## should allow overriding 'opts.level' | uncaughtException node-tap:default

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on uncaughtException␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on uncaughtException # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: uncaughtException␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should allow overriding 'opts.level' | uncaughtException node-tap:tap

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on uncaughtException␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on uncaughtException # ␊
          ␊
          not ok 2 - message␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should allow overriding 'opts.level' | uncaughtException tape

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on uncaughtException␊
      ok 1 (unnamed assert)␊
      ␊
      1..1␊
      # tests 1␊
      # pass  1␊
      ␊
      # ok`,
    }

## should allow overriding 'opts.level' | unhandledRejection ava

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `√ should make tests fail on unhandledRejection␊
      ␊
        Unhandled rejection in   Error: message␊
      ␊
      ␊
        1 test passed␊
        1 unhandled rejection`,
    }

## should allow overriding 'opts.level' | unhandledRejection jasmine

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Unhandled promise rejection: Error: message␊
        Stack:␊
          Error: message␊
              at STACK TRACE␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should allow overriding 'opts.level' | unhandledRejection mocha

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `should make tests fail␊
          √ on unhandledRejection␊
      ␊
      ␊
        1 passing`,
    }

## should allow overriding 'opts.level' | unhandledRejection node-tap:default

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on unhandledRejection␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on unhandledRejection # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: unhandledRejection␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should allow overriding 'opts.level' | unhandledRejection node-tap:tap

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on unhandledRejection␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on unhandledRejection # ␊
          ␊
          not ok 2 - message␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should allow overriding 'opts.level' | unhandledRejection tape

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on unhandledRejection␊
      ok 1 (unnamed assert)␊
      ␊
      1..1␊
      # tests 1␊
      # pass  1␊
      ␊
      # ok`,
    }

## should allow overriding 'opts.level' | warning ava

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `√ should make tests fail on warning␊
      ␊
        1 test passed`,
    }

## should allow overriding 'opts.level' | warning jasmine

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      1 spec, 0 failures␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should allow overriding 'opts.level' | warning mocha

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `should make tests fail␊
          √ on warning␊
      ␊
      ␊
        1 passing`,
    }

## should allow overriding 'opts.level' | warning node-tap:default

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `TAP version 13␊
      ok 1 -  #  {␊
          # Subtest: should make tests fail on warning␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on warning # ␊
          ␊
          1..1␊
          # ␊
      }␊
      ␊
      1..1␊
      # `,
    }

## should allow overriding 'opts.level' | warning node-tap:tap

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `TAP version 13␊
      ok 1 -  #  {␊
          # Subtest: should make tests fail on warning␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on warning # ␊
          ␊
          1..1␊
          # ␊
      }␊
      ␊
      1..1␊
      # `,
    }

## should allow overriding 'opts.level' | warning tape

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on warning␊
      ok 1 (unnamed assert)␊
      ␊
      1..1␊
      # tests 1␊
      # pass  1␊
      ␊
      # ok`,
    }

## should make tests fails | multipleResolves ava

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `√ should make tests fail on multipleResolves␊
      ␊
        1 test passed`,
    }

## should make tests fails | multipleResolves jasmine

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      1 spec, 0 failures␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should make tests fails | multipleResolves mocha

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on multipleResolves␊
          1) on multipleResolves␊
      ␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on multipleResolves:␊
           Uncaught MultipleResolves: a promise was  multiple times:␊
      Initially resolved with: { success: true }␊
      Then rejected with: Error: message␊
            at STACK TRACE`,
    }

## should make tests fails | multipleResolves node-tap:default

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `TAP version 13␊
      ok 1 -  #  {␊
          # Subtest: should make tests fail on multipleResolves␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on multipleResolves # ␊
          ␊
          1..1␊
          # ␊
      }␊
      ␊
      1..1␊
      # `,
    }

## should make tests fails | multipleResolves node-tap:tap

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `TAP version 13␊
      ok 1 -  #  {␊
          # Subtest: should make tests fail on multipleResolves␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on multipleResolves # ␊
          ␊
          1..1␊
          # ␊
      }␊
      ␊
      1..1␊
      # `,
    }

## should make tests fails | multipleResolves tape

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on multipleResolves␊
      ok 1 (unnamed assert)␊
      # a promise was  multiple times: Initially resolved with: { success: true } Then rejected with: Error: message␊
      not ok 2 MultipleResolves: a promise was  multiple times: Initially resolved with: { success: true } Then rejected with: Error: message␊
        ---␊
          operator: error␊
          stack: |-␊
            MultipleResolves: a promise was  multiple times:␊
            Initially resolved with: { success: true }␊
            Then rejected with: Error: message␊
                at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## should make tests fails | rejectionHandled jasmine

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Unhandled promise rejection: Error: message␊
        Stack:␊
          Error: message␊
              at STACK TRACE␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should make tests fails | rejectionHandled mocha

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on rejectionHandled␊
          1) on rejectionHandled␊
      ␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on rejectionHandled:␊
           Uncaught UnhandledRejection: a promise was rejected but not handled: Error: message␊
            at STACK TRACE`,
    }

## should make tests fails | rejectionHandled node-tap:default

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on rejectionHandled␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on rejectionHandled # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: unhandledRejection␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should make tests fails | rejectionHandled node-tap:tap

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on rejectionHandled␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on rejectionHandled # ␊
          ␊
          not ok 2 - message␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should make tests fails | rejectionHandled tape

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on rejectionHandled␊
      ok 1 (unnamed assert)␊
      # a promise was rejected but not handled: Error: message␊
      not ok 2 UnhandledRejection: a promise was rejected but not handled: Error: message␊
        ---␊
          operator: error␊
          stack: |-␊
            UnhandledRejection: a promise was rejected but not handled: Error: message␊
                at STACK TRACE␊
        ...␊
      # a promise was rejected and handled too late: Error: message␊
      not ok 3 RejectionHandled: a promise was rejected and handled too late: Error: message␊
        ---␊
          operator: error␊
          stack: |-␊
            RejectionHandled: a promise was rejected and handled too late: Error: message␊
                at STACK TRACE␊
        ...␊
      ␊
      1..3␊
      # tests 3␊
      # pass  1␊
      # fail  2`,
    }

## should make tests fails | uncaughtException ava

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `√ should make tests fail on uncaughtException␊
      ␊
        Uncaught exception in   Error: message␊
      ␊
        ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 uncaught exception`,
    }

## should make tests fails | uncaughtException jasmine

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Uncaught exception: Error: message␊
        Stack:␊
          Error: message␊
              at STACK TRACE␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should make tests fails | uncaughtException mocha

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on uncaughtException␊
          1) on uncaughtException␊
      ␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on uncaughtException:␊
           Uncaught Error: message␊
            at STACK TRACE`,
    }

## should make tests fails | uncaughtException node-tap:default

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on uncaughtException␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on uncaughtException # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: uncaughtException␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should make tests fails | uncaughtException node-tap:tap

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on uncaughtException␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on uncaughtException # ␊
          ␊
          not ok 2 - message␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should make tests fails | uncaughtException tape

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on uncaughtException␊
      ok 1 (unnamed assert)␊
      # an exception was thrown but not caught: Error: message␊
      not ok 2 UncaughtException: an exception was thrown but not caught: Error: message␊
        ---␊
          operator: error␊
          stack: |-␊
            UncaughtException: an exception was thrown but not caught: Error: message␊
                at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## should make tests fails | unhandledRejection ava

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `√ should make tests fail on unhandledRejection␊
      ␊
        Unhandled rejection in   Error: message␊
      ␊
      ␊
        1 test passed␊
        1 unhandled rejection`,
    }

## should make tests fails | unhandledRejection jasmine

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Unhandled promise rejection: Error: message␊
        Stack:␊
          Error: message␊
              at STACK TRACE␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should make tests fails | unhandledRejection mocha

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on unhandledRejection␊
          1) on unhandledRejection␊
      ␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on unhandledRejection:␊
           Uncaught UnhandledRejection: a promise was rejected but not handled: Error: message␊
            at STACK TRACE`,
    }

## should make tests fails | unhandledRejection node-tap:default

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on unhandledRejection␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on unhandledRejection # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: unhandledRejection␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should make tests fails | unhandledRejection node-tap:tap

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on unhandledRejection␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on unhandledRejection # ␊
          ␊
          not ok 2 - message␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should make tests fails | unhandledRejection tape

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on unhandledRejection␊
      ok 1 (unnamed assert)␊
      # a promise was rejected but not handled: Error: message␊
      not ok 2 UnhandledRejection: a promise was rejected but not handled: Error: message␊
        ---␊
          operator: error␊
          stack: |-␊
            UnhandledRejection: a promise was rejected but not handled: Error: message␊
                at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## should make tests fails | warning ava

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `√ should make tests fail on warning␊
      ␊
        Uncaught exception in   Warning: WarningType: message␊
        [500] Detail␊
      ␊
        ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 uncaught exception`,
    }

## should make tests fails | warning jasmine

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Uncaught exception: Warning: WarningType: message␊
          [500] Detail␊
        Stack:␊
              at STACK TRACE␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should make tests fails | warning mocha

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on warning␊
          1) on warning␊
      ␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on warning:␊
           Uncaught Warning: WarningType: message␊
      [500] Detail␊
            at STACK TRACE`,
    }

## should make tests fails | warning node-tap:default

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on warning␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on warning # ␊
          ␊
          not ok 2 - WarningType: message [500] Detail␊
            ---␊
            stack: |␊
              [500] Detail␊
                  STACK TRACE␊
            type: Warning␊
            tapCaught: uncaughtException␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should make tests fails | warning node-tap:tap

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on warning␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on warning # ␊
          ␊
          not ok 2 - WarningType: message [500] Detail␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should make tests fails | warning tape

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on warning␊
      ok 1 (unnamed assert)␊
      # WarningType: message [500] Detail␊
      not ok 2 Warning: WarningType: message [500] Detail␊
        ---␊
          operator: error␊
          stack: |-␊
            Warning: WarningType: message␊
            [500] Detail␊
                at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## should work with the -r flag | multipleResolves ava

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `√ should make tests fail on multipleResolves␊
      ␊
        1 test passed`,
    }

## should work with the -r flag | multipleResolves jasmine

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      1 spec, 0 failures␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should work with the -r flag | multipleResolves mocha

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on multipleResolves␊
          1) on multipleResolves␊
      ␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on multipleResolves:␊
           Uncaught MultipleResolves: a promise was  multiple times:␊
      Initially resolved with: { success: true }␊
      Then rejected with: Error: message␊
            at STACK TRACE`,
    }

## should work with the -r flag | multipleResolves node-tap:default

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `TAP version 13␊
      ok 1 -  #  {␊
          # Subtest: should make tests fail on multipleResolves␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on multipleResolves # ␊
          ␊
          1..1␊
          # ␊
      }␊
      ␊
      1..1␊
      # `,
    }

## should work with the -r flag | multipleResolves node-tap:tap

> Snapshot 1

    {
      exitCode: 0,
      stderr: '',
      stdout: `TAP version 13␊
      ok 1 -  #  {␊
          # Subtest: should make tests fail on multipleResolves␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on multipleResolves # ␊
          ␊
          1..1␊
          # ␊
      }␊
      ␊
      1..1␊
      # `,
    }

## should work with the -r flag | multipleResolves tape

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on multipleResolves␊
      ok 1 (unnamed assert)␊
      # a promise was  multiple times: Initially resolved with: { success: true } Then rejected with: Error: message␊
      not ok 2 MultipleResolves: a promise was  multiple times: Initially resolved with: { success: true } Then rejected with: Error: message␊
        ---␊
          operator: error␊
          stack: |-␊
            MultipleResolves: a promise was  multiple times:␊
            Initially resolved with: { success: true }␊
            Then rejected with: Error: message␊
                at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## should work with the -r flag | rejectionHandled jasmine

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Unhandled promise rejection: Error: message␊
        Stack:␊
          Error: message␊
              at STACK TRACE␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should work with the -r flag | rejectionHandled mocha

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on rejectionHandled␊
          1) on rejectionHandled␊
      ␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on rejectionHandled:␊
           Uncaught UnhandledRejection: a promise was rejected but not handled: Error: message␊
            at STACK TRACE`,
    }

## should work with the -r flag | rejectionHandled node-tap:default

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on rejectionHandled␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on rejectionHandled # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: unhandledRejection␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should work with the -r flag | rejectionHandled node-tap:tap

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on rejectionHandled␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on rejectionHandled # ␊
          ␊
          not ok 2 - message␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should work with the -r flag | rejectionHandled tape

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on rejectionHandled␊
      ok 1 (unnamed assert)␊
      # a promise was rejected but not handled: Error: message␊
      not ok 2 UnhandledRejection: a promise was rejected but not handled: Error: message␊
        ---␊
          operator: error␊
          stack: |-␊
            UnhandledRejection: a promise was rejected but not handled: Error: message␊
                at STACK TRACE␊
        ...␊
      # a promise was rejected and handled too late: Error: message␊
      not ok 3 RejectionHandled: a promise was rejected and handled too late: Error: message␊
        ---␊
          operator: error␊
          stack: |-␊
            RejectionHandled: a promise was rejected and handled too late: Error: message␊
                at STACK TRACE␊
        ...␊
      ␊
      1..3␊
      # tests 3␊
      # pass  1␊
      # fail  2`,
    }

## should work with the -r flag | uncaughtException ava

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `√ should make tests fail on uncaughtException␊
      ␊
        Uncaught exception in   Error: message␊
      ␊
        ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 uncaught exception`,
    }

## should work with the -r flag | uncaughtException jasmine

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Uncaught exception: Error: message␊
        Stack:␊
          Error: message␊
              at STACK TRACE␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should work with the -r flag | uncaughtException mocha

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on uncaughtException␊
          1) on uncaughtException␊
      ␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on uncaughtException:␊
           Uncaught Error: message␊
            at STACK TRACE`,
    }

## should work with the -r flag | uncaughtException node-tap:default

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on uncaughtException␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on uncaughtException # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: uncaughtException␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should work with the -r flag | uncaughtException node-tap:tap

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on uncaughtException␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on uncaughtException # ␊
          ␊
          not ok 2 - message␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should work with the -r flag | uncaughtException tape

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on uncaughtException␊
      ok 1 (unnamed assert)␊
      # an exception was thrown but not caught: Error: message␊
      not ok 2 UncaughtException: an exception was thrown but not caught: Error: message␊
        ---␊
          operator: error␊
          stack: |-␊
            UncaughtException: an exception was thrown but not caught: Error: message␊
                at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## should work with the -r flag | unhandledRejection ava

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `√ should make tests fail on unhandledRejection␊
      ␊
        Unhandled rejection in   Error: message␊
      ␊
      ␊
        1 test passed␊
        1 unhandled rejection`,
    }

## should work with the -r flag | unhandledRejection jasmine

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Unhandled promise rejection: Error: message␊
        Stack:␊
          Error: message␊
              at STACK TRACE␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should work with the -r flag | unhandledRejection mocha

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on unhandledRejection␊
          1) on unhandledRejection␊
      ␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on unhandledRejection:␊
           Uncaught UnhandledRejection: a promise was rejected but not handled: Error: message␊
            at STACK TRACE`,
    }

## should work with the -r flag | unhandledRejection node-tap:default

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on unhandledRejection␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on unhandledRejection # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: unhandledRejection␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should work with the -r flag | unhandledRejection node-tap:tap

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on unhandledRejection␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on unhandledRejection # ␊
          ␊
          not ok 2 - message␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should work with the -r flag | unhandledRejection tape

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on unhandledRejection␊
      ok 1 (unnamed assert)␊
      # a promise was rejected but not handled: Error: message␊
      not ok 2 UnhandledRejection: a promise was rejected but not handled: Error: message␊
        ---␊
          operator: error␊
          stack: |-␊
            UnhandledRejection: a promise was rejected but not handled: Error: message␊
                at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## should work with the -r flag | warning ava

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `√ should make tests fail on warning␊
      ␊
        Uncaught exception in   Warning: WarningType: message␊
        [500] Detail␊
      ␊
        ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 uncaught exception`,
    }

## should work with the -r flag | warning jasmine

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Uncaught exception: Warning: WarningType: message␊
          [500] Detail␊
        Stack:␊
              at STACK TRACE␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should work with the -r flag | warning mocha

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on warning␊
          1) on warning␊
      ␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on warning:␊
           Uncaught Warning: WarningType: message␊
      [500] Detail␊
            at STACK TRACE`,
    }

## should work with the -r flag | warning node-tap:default

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on warning␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on warning # ␊
          ␊
          not ok 2 - WarningType: message [500] Detail␊
            ---␊
            stack: |␊
              [500] Detail␊
                  STACK TRACE␊
            type: Warning␊
            tapCaught: uncaughtException␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should work with the -r flag | warning node-tap:tap

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on warning␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on warning # ␊
          ␊
          not ok 2 - WarningType: message [500] Detail␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should work with the -r flag | warning tape

> Snapshot 1

    {
      exitCode: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on warning␊
      ok 1 (unnamed assert)␊
      # WarningType: message [500] Detail␊
      not ok 2 Warning: WarningType: message [500] Detail␊
        ---␊
          operator: error␊
          stack: |-␊
            Warning: WarningType: message␊
            [500] Detail␊
                at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }
