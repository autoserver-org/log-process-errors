# Snapshot report for `test/options/testing.js`

The actual snapshot is saved in `testing.js.snap`.

Generated by [AVA](https://ava.li).

## should allow overriding 'opts.level' | [ava] [multipleResolves]

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `√ should make tests fail on multipleResolves␊
      ␊
        1 test passed`,
    }

## should allow overriding 'opts.level' | [ava] [uncaughtException]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on uncaughtException␊
      ␊
        Uncaught exception in   Error: message␊
      ␊
        ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 uncaught exception`,
    }

## should allow overriding 'opts.level' | [ava] [unhandledRejection]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on unhandledRejection␊
      ␊
        Unhandled rejection in   Error: message␊
      ␊
      ␊
        1 test passed␊
        1 unhandled rejection`,
    }

## should allow overriding 'opts.level' | [ava] [warning]

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `√ should make tests fail on warning␊
      ␊
        1 test passed`,
    }

## should allow overriding 'opts.level' | [jasmine] [multipleResolves]

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      1 spec, 0 failures␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should allow overriding 'opts.level' | [jasmine] [rejectionHandled]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Unhandled promise rejection: Error: message␊
        Stack:␊
          Error: message␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should allow overriding 'opts.level' | [jasmine] [uncaughtException]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Uncaught exception: Error: message␊
        Stack:␊
          Error: message␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should allow overriding 'opts.level' | [jasmine] [unhandledRejection]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Unhandled promise rejection: Error: message␊
        Stack:␊
          Error: message␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should allow overriding 'opts.level' | [jasmine] [warning]

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      1 spec, 0 failures␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should allow overriding 'opts.level' | [mocha] [multipleResolves]

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `should make tests fail␊
          √ on multipleResolves␊
      ␊
      ␊
        1 passing`,
    }

## should allow overriding 'opts.level' | [mocha] [rejectionHandled]

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `should make tests fail␊
          √ on rejectionHandled␊
      ␊
      ␊
        1 passing`,
    }

## should allow overriding 'opts.level' | [mocha] [uncaughtException]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on uncaughtException␊
          1) on uncaughtException␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on uncaughtException:␊
           Uncaught Error: message␊
            at STACK TRACE`,
    }

## should allow overriding 'opts.level' | [mocha] [unhandledRejection]

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `should make tests fail␊
          √ on unhandledRejection␊
      ␊
      ␊
        1 passing`,
    }

## should allow overriding 'opts.level' | [mocha] [warning]

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `should make tests fail␊
          √ on warning␊
      ␊
      ␊
        1 passing`,
    }

## should allow overriding 'opts.level' | [node-tap:default] [multipleResolves]

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `TAP version 13␊
      ok 1 -  #  {␊
          # Subtest: should make tests fail on multipleResolves␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on multipleResolves # ␊
          ␊
          1..1␊
          # ␊
      }␊
      ␊
      1..1␊
      # `,
    }

## should allow overriding 'opts.level' | [node-tap:default] [rejectionHandled]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on rejectionHandled␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on rejectionHandled # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: unhandledRejection␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should allow overriding 'opts.level' | [node-tap:default] [uncaughtException]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on uncaughtException␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on uncaughtException # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: uncaughtException␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should allow overriding 'opts.level' | [node-tap:default] [unhandledRejection]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on unhandledRejection␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on unhandledRejection # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: unhandledRejection␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should allow overriding 'opts.level' | [node-tap:default] [warning]

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `TAP version 13␊
      ok 1 -  #  {␊
          # Subtest: should make tests fail on warning␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on warning # ␊
          ␊
          1..1␊
          # ␊
      }␊
      ␊
      1..1␊
      # `,
    }

## should allow overriding 'opts.level' | [node-tap:tap] [multipleResolves]

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `TAP version 13␊
      ok 1 -  #  {␊
          # Subtest: should make tests fail on multipleResolves␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on multipleResolves # ␊
          ␊
          1..1␊
          # ␊
      }␊
      ␊
      1..1␊
      # `,
    }

## should allow overriding 'opts.level' | [node-tap:tap] [rejectionHandled]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on rejectionHandled␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on rejectionHandled # ␊
          ␊
          not ok 2 - message␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should allow overriding 'opts.level' | [node-tap:tap] [uncaughtException]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on uncaughtException␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on uncaughtException # ␊
          ␊
          not ok 2 - message␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should allow overriding 'opts.level' | [node-tap:tap] [unhandledRejection]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on unhandledRejection␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on unhandledRejection # ␊
          ␊
          not ok 2 - message␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should allow overriding 'opts.level' | [node-tap:tap] [warning]

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `TAP version 13␊
      ok 1 -  #  {␊
          # Subtest: should make tests fail on warning␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on warning # ␊
          ␊
          1..1␊
          # ␊
      }␊
      ␊
      1..1␊
      # `,
    }

## should allow overriding 'opts.level' | [tape] [multipleResolves]

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on multipleResolves␊
      ok 1 (unnamed assert)␊
      ␊
      1..1␊
      # tests 1␊
      # pass  1␊
      ␊
      # ok`,
    }

## should allow overriding 'opts.level' | [tape] [rejectionHandled]

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on rejectionHandled␊
      ok 1 (unnamed assert)␊
      ␊
      1..1␊
      # tests 1␊
      # pass  1␊
      ␊
      # ok`,
    }

## should allow overriding 'opts.level' | [tape] [uncaughtException]

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on uncaughtException␊
      ok 1 (unnamed assert)␊
      ␊
      1..1␊
      # tests 1␊
      # pass  1␊
      ␊
      # ok`,
    }

## should allow overriding 'opts.level' | [tape] [unhandledRejection]

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on unhandledRejection␊
      ok 1 (unnamed assert)␊
      ␊
      1..1␊
      # tests 1␊
      # pass  1␊
      ␊
      # ok`,
    }

## should allow overriding 'opts.level' | [tape] [warning]

> Snapshot 1

    {
      code: 0,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on warning␊
      ok 1 (unnamed assert)␊
      ␊
      1..1␊
      # tests 1␊
      # pass  1␊
      ␊
      # ok`,
    }

## should make tests fails | [ava] [multipleResolves]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on multipleResolves␊
      ␊
        Uncaught exception in   MultipleResolves: a promise was  multiple times:␊
        Initially resolved with: { success: true }␊
        Then rejected with: Error: message␊
      ␊
        ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 uncaught exception`,
    }

## should make tests fails | [ava] [uncaughtException]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on uncaughtException␊
      ␊
        Uncaught exception in   Error: message␊
      ␊
        ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 uncaught exception`,
    }

## should make tests fails | [ava] [unhandledRejection]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on unhandledRejection␊
      ␊
        Unhandled rejection in   Error: message␊
      ␊
      ␊
        1 test passed␊
        1 unhandled rejection`,
    }

## should make tests fails | [ava] [warning]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on warning␊
      ␊
        Uncaught exception in   Warning: WarningType: message␊
        [500] Detail␊
      ␊
        ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 uncaught exception`,
    }

## should make tests fails | [jasmine] [multipleResolves]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Uncaught exception: MultipleResolves: a promise was  multiple times:␊
          Initially resolved with: { success: true }␊
          Then rejected with: Error: message␊
        Stack:␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should make tests fails | [jasmine] [rejectionHandled]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Unhandled promise rejection: Error: message␊
        Stack:␊
          Error: message␊
              at <Jasmine>␊
        Message:␊
          Uncaught exception: RejectionHandled: a promise was rejected and handled too late: Error: message␊
        Stack:␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should make tests fails | [jasmine] [uncaughtException]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Uncaught exception: Error: message␊
        Stack:␊
          Error: message␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should make tests fails | [jasmine] [unhandledRejection]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Unhandled promise rejection: Error: message␊
        Stack:␊
          Error: message␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should make tests fails | [jasmine] [warning]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Uncaught exception: Warning: WarningType: message␊
          [500] Detail␊
        Stack:␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should make tests fails | [mocha] [multipleResolves]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on multipleResolves␊
          1) on multipleResolves␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on multipleResolves:␊
           Uncaught MultipleResolves: a promise was  multiple times:␊
      Initially resolved with: { success: true }␊
      Then rejected with: Error: message␊
            at STACK TRACE`,
    }

## should make tests fails | [mocha] [rejectionHandled]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on rejectionHandled␊
          1) on rejectionHandled␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on rejectionHandled:␊
           Uncaught UnhandledRejection: a promise was rejected but not handled: Error: message␊
            at STACK TRACE`,
    }

## should make tests fails | [mocha] [uncaughtException]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on uncaughtException␊
          1) on uncaughtException␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on uncaughtException:␊
           Uncaught Error: message␊
            at STACK TRACE`,
    }

## should make tests fails | [mocha] [unhandledRejection]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on unhandledRejection␊
          1) on unhandledRejection␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on unhandledRejection:␊
           Uncaught UnhandledRejection: a promise was rejected but not handled: Error: message␊
            at STACK TRACE`,
    }

## should make tests fails | [mocha] [warning]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on warning␊
          1) on warning␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on warning:␊
           Uncaught Warning: WarningType: message␊
      [500] Detail␊
            at STACK TRACE`,
    }

## should make tests fails | [node-tap:default] [multipleResolves]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on multipleResolves␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on multipleResolves # ␊
          ␊
          not ok 2 - a promise was  multiple times: Initially resolved with: { success: true } Then rejected with: Error: message␊
            ---␊
            stack: |␊
              Then rejected with: Error: message␊
                  STACK TRACE␊
            type: MultipleResolves␊
            tapCaught: uncaughtException␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should make tests fails | [node-tap:default] [rejectionHandled]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on rejectionHandled␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on rejectionHandled # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: unhandledRejection␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should make tests fails | [node-tap:default] [uncaughtException]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on uncaughtException␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on uncaughtException # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: uncaughtException␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should make tests fails | [node-tap:default] [unhandledRejection]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on unhandledRejection␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on unhandledRejection # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: unhandledRejection␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should make tests fails | [node-tap:default] [warning]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on warning␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on warning # ␊
          ␊
          not ok 2 - WarningType: message [500] Detail␊
            ---␊
            stack: |␊
              [500] Detail␊
                  STACK TRACE␊
            type: Warning␊
            tapCaught: uncaughtException␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should make tests fails | [node-tap:tap] [multipleResolves]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on multipleResolves␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on multipleResolves # ␊
          ␊
          not ok 2 - a promise was  multiple times: Initially resolved with: { success: true } Then rejected with: Error: message␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should make tests fails | [node-tap:tap] [rejectionHandled]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on rejectionHandled␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on rejectionHandled # ␊
          ␊
          not ok 2 - message␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should make tests fails | [node-tap:tap] [uncaughtException]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on uncaughtException␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on uncaughtException # ␊
          ␊
          not ok 2 - message␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should make tests fails | [node-tap:tap] [unhandledRejection]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on unhandledRejection␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on unhandledRejection # ␊
          ␊
          not ok 2 - message␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should make tests fails | [node-tap:tap] [warning]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on warning␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on warning # ␊
          ␊
          not ok 2 - WarningType: message [500] Detail␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should make tests fails | [tape] [multipleResolves]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on multipleResolves␊
      ok 1 (unnamed assert)␊
      # a promise was  multiple times:␊
      Initially resolved with: { success: true }␊
      Then rejected with: Error: message␊
      not ok 2 MultipleResolves: a promise was  multiple times: Initially resolved with: { success: true } Then rejected with: Error: message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [MultipleResolves: a promise was  multiple times:␊
      Initially resolved with: { success: true }␊
      Then rejected with: Error: message]␊
          stack: |-␊
            MultipleResolves: a promise was  multiple times:␊
            Initially resolved with: { success: true }␊
            Then rejected with: Error: message␊
                at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## should make tests fails | [tape] [rejectionHandled]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on rejectionHandled␊
      ok 1 (unnamed assert)␊
      # a promise was rejected but not handled: Error: message␊
      not ok 2 UnhandledRejection: a promise was rejected but not handled: Error: message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [UnhandledRejection: a promise was rejected but not handled: Error: message]␊
          stack: |-␊
            UnhandledRejection: a promise was rejected but not handled: Error: message␊
                at STACK TRACE␊
        ...␊
      # a promise was rejected and handled too late: Error: message␊
      not ok 3 RejectionHandled: a promise was rejected and handled too late: Error: message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [RejectionHandled: a promise was rejected and handled too late: Error: message]␊
          stack: |-␊
            RejectionHandled: a promise was rejected and handled too late: Error: message␊
                at STACK TRACE␊
        ...␊
      ␊
      1..3␊
      # tests 3␊
      # pass  1␊
      # fail  2`,
    }

## should make tests fails | [tape] [uncaughtException]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on uncaughtException␊
      ok 1 (unnamed assert)␊
      # an exception was thrown but not caught: Error: message␊
      not ok 2 UncaughtException: an exception was thrown but not caught: Error: message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [UncaughtException: an exception was thrown but not caught: Error: message]␊
          stack: |-␊
            UncaughtException: an exception was thrown but not caught: Error: message␊
                at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## should make tests fails | [tape] [unhandledRejection]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on unhandledRejection␊
      ok 1 (unnamed assert)␊
      # a promise was rejected but not handled: Error: message␊
      not ok 2 UnhandledRejection: a promise was rejected but not handled: Error: message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [UnhandledRejection: a promise was rejected but not handled: Error: message]␊
          stack: |-␊
            UnhandledRejection: a promise was rejected but not handled: Error: message␊
                at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## should make tests fails | [tape] [warning]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on warning␊
      ok 1 (unnamed assert)␊
      # WarningType: message␊
      [500] Detail␊
      not ok 2 Warning: WarningType: message [500] Detail␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [Warning: WarningType: message␊
      [500] Detail]␊
          stack: |-␊
            Warning: WarningType: message␊
            [500] Detail␊
                at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## should work with the -r flag | [ava] [multipleResolves]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on multipleResolves␊
      ␊
        Uncaught exception in   MultipleResolves: a promise was  multiple times:␊
        Initially resolved with: { success: true }␊
        Then rejected with: Error: message␊
      ␊
        ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 uncaught exception`,
    }

## should work with the -r flag | [ava] [uncaughtException]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on uncaughtException␊
      ␊
        Uncaught exception in   Error: message␊
      ␊
        ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 uncaught exception`,
    }

## should work with the -r flag | [ava] [unhandledRejection]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on unhandledRejection␊
      ␊
        Unhandled rejection in   Error: message␊
      ␊
      ␊
        1 test passed␊
        1 unhandled rejection`,
    }

## should work with the -r flag | [ava] [warning]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `√ should make tests fail on warning␊
      ␊
        Uncaught exception in   Warning: WarningType: message␊
        [500] Detail␊
      ␊
        ×  exited with a non-zero exit code: 1␊
      ␊
        1 test passed␊
        1 uncaught exception`,
    }

## should work with the -r flag | [jasmine] [multipleResolves]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Uncaught exception: MultipleResolves: a promise was  multiple times:␊
          Initially resolved with: { success: true }␊
          Then rejected with: Error: message␊
        Stack:␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should work with the -r flag | [jasmine] [rejectionHandled]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Unhandled promise rejection: Error: message␊
        Stack:␊
          Error: message␊
              at <Jasmine>␊
        Message:␊
          Uncaught exception: RejectionHandled: a promise was rejected and handled too late: Error: message␊
        Stack:␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should work with the -r flag | [jasmine] [uncaughtException]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Uncaught exception: Error: message␊
        Stack:␊
          Error: message␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should work with the -r flag | [jasmine] [unhandledRejection]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Unhandled promise rejection: Error: message␊
        Stack:␊
          Error: message␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should work with the -r flag | [jasmine] [warning]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `Randomized with seed 0␊
      Started␊
      .␊
      ␊
      ␊
      Suite error: should make tests fail␊
        Message:␊
          Uncaught exception: Warning: WarningType: message␊
          [500] Detail␊
        Stack:␊
              at <Jasmine>␊
      ␊
      1 spec, 1 failure␊
      Finished in ␊
      Randomized with seed 0 (jasmine --random=true --seed=0)`,
    }

## should work with the -r flag | [mocha] [multipleResolves]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on multipleResolves␊
          1) on multipleResolves␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on multipleResolves:␊
           Uncaught MultipleResolves: a promise was  multiple times:␊
      Initially resolved with: { success: true }␊
      Then rejected with: Error: message␊
            at STACK TRACE`,
    }

## should work with the -r flag | [mocha] [rejectionHandled]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on rejectionHandled␊
          1) on rejectionHandled␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on rejectionHandled:␊
           Uncaught UnhandledRejection: a promise was rejected but not handled: Error: message␊
            at STACK TRACE`,
    }

## should work with the -r flag | [mocha] [uncaughtException]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on uncaughtException␊
          1) on uncaughtException␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on uncaughtException:␊
           Uncaught Error: message␊
            at STACK TRACE`,
    }

## should work with the -r flag | [mocha] [unhandledRejection]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on unhandledRejection␊
          1) on unhandledRejection␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on unhandledRejection:␊
           Uncaught UnhandledRejection: a promise was rejected but not handled: Error: message␊
            at STACK TRACE`,
    }

## should work with the -r flag | [mocha] [warning]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `should make tests fail␊
          √ on warning␊
          1) on warning␊
      ␊
        1 passing␊
        1 failing␊
      ␊
        1) should make tests fail␊
             on warning:␊
           Uncaught Warning: WarningType: message␊
      [500] Detail␊
            at STACK TRACE`,
    }

## should work with the -r flag | [node-tap:default] [multipleResolves]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on multipleResolves␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on multipleResolves # ␊
          ␊
          not ok 2 - a promise was  multiple times: Initially resolved with: { success: true } Then rejected with: Error: message␊
            ---␊
            stack: |␊
              Then rejected with: Error: message␊
                  STACK TRACE␊
            type: MultipleResolves␊
            tapCaught: uncaughtException␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should work with the -r flag | [node-tap:default] [rejectionHandled]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on rejectionHandled␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on rejectionHandled # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: unhandledRejection␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should work with the -r flag | [node-tap:default] [uncaughtException]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on uncaughtException␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on uncaughtException # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: uncaughtException␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should work with the -r flag | [node-tap:default] [unhandledRejection]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on unhandledRejection␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on unhandledRejection # ␊
          ␊
          not ok 2 - message␊
            ---␊
            stack: |␊
              STACK TRACE␊
            tapCaught: unhandledRejection␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should work with the -r flag | [node-tap:default] [warning]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  # ␊
        ---␊
        env: {}␊
        file:   timeout: 30000␊
        command:   args:␊
          - -r␊
          -     -   stdio:␊
          - 0␊
          - pipe␊
          - 2␊
        cwd:   exitCode: 1␊
        ...␊
      {␊
          # Subtest: should make tests fail on warning␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on warning # ␊
          ␊
          not ok 2 - WarningType: message [500] Detail␊
            ---␊
            stack: |␊
              [500] Detail␊
                  STACK TRACE␊
            type: Warning␊
            tapCaught: uncaughtException␊
            test: TAP␊
            ...␊
          ␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should work with the -r flag | [node-tap:tap] [multipleResolves]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on multipleResolves␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on multipleResolves # ␊
          ␊
          not ok 2 - a promise was  multiple times: Initially resolved with: { success: true } Then rejected with: Error: message␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should work with the -r flag | [node-tap:tap] [rejectionHandled]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on rejectionHandled␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on rejectionHandled # ␊
          ␊
          not ok 2 - message␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should work with the -r flag | [node-tap:tap] [uncaughtException]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on uncaughtException␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on uncaughtException # ␊
          ␊
          not ok 2 - message␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should work with the -r flag | [node-tap:tap] [unhandledRejection]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on unhandledRejection␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on unhandledRejection # ␊
          ␊
          not ok 2 - message␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should work with the -r flag | [node-tap:tap] [warning]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      not ok 1 -  #  {␊
          # Subtest: should make tests fail on warning␊
              1..1␊
              ok 1 - (unnamed test)␊
          ok 1 - should make tests fail on warning # ␊
          ␊
          not ok 2 - WarningType: message [500] Detail␊
          1..2␊
          # failed 1 of 2 tests␊
          # ␊
      }␊
      ␊
      1..1␊
      # failed 1 test␊
      # `,
    }

## should work with the -r flag | [tape] [multipleResolves]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on multipleResolves␊
      ok 1 (unnamed assert)␊
      # a promise was  multiple times:␊
      Initially resolved with: { success: true }␊
      Then rejected with: Error: message␊
      not ok 2 MultipleResolves: a promise was  multiple times: Initially resolved with: { success: true } Then rejected with: Error: message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [MultipleResolves: a promise was  multiple times:␊
      Initially resolved with: { success: true }␊
      Then rejected with: Error: message]␊
          stack: |-␊
            MultipleResolves: a promise was  multiple times:␊
            Initially resolved with: { success: true }␊
            Then rejected with: Error: message␊
                at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## should work with the -r flag | [tape] [rejectionHandled]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on rejectionHandled␊
      ok 1 (unnamed assert)␊
      # a promise was rejected but not handled: Error: message␊
      not ok 2 UnhandledRejection: a promise was rejected but not handled: Error: message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [UnhandledRejection: a promise was rejected but not handled: Error: message]␊
          stack: |-␊
            UnhandledRejection: a promise was rejected but not handled: Error: message␊
                at STACK TRACE␊
        ...␊
      # a promise was rejected and handled too late: Error: message␊
      not ok 3 RejectionHandled: a promise was rejected and handled too late: Error: message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [RejectionHandled: a promise was rejected and handled too late: Error: message]␊
          stack: |-␊
            RejectionHandled: a promise was rejected and handled too late: Error: message␊
                at STACK TRACE␊
        ...␊
      ␊
      1..3␊
      # tests 3␊
      # pass  1␊
      # fail  2`,
    }

## should work with the -r flag | [tape] [uncaughtException]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on uncaughtException␊
      ok 1 (unnamed assert)␊
      # an exception was thrown but not caught: Error: message␊
      not ok 2 UncaughtException: an exception was thrown but not caught: Error: message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [UncaughtException: an exception was thrown but not caught: Error: message]␊
          stack: |-␊
            UncaughtException: an exception was thrown but not caught: Error: message␊
                at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## should work with the -r flag | [tape] [unhandledRejection]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on unhandledRejection␊
      ok 1 (unnamed assert)␊
      # a promise was rejected but not handled: Error: message␊
      not ok 2 UnhandledRejection: a promise was rejected but not handled: Error: message␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [UnhandledRejection: a promise was rejected but not handled: Error: message]␊
          stack: |-␊
            UnhandledRejection: a promise was rejected but not handled: Error: message␊
                at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }

## should work with the -r flag | [tape] [warning]

> Snapshot 1

    {
      code: 1,
      stderr: '',
      stdout: `TAP version 13␊
      # should make tests fail on warning␊
      ok 1 (unnamed assert)␊
      # WarningType: message␊
      [500] Detail␊
      not ok 2 Warning: WarningType: message [500] Detail␊
        ---␊
          operator: error␊
          expected: |-␊
            undefined␊
          actual: |-␊
            [Warning: WarningType: message␊
      [500] Detail]␊
          stack: |-␊
            Warning: WarningType: message␊
            [500] Detail␊
                at STACK TRACE␊
        ...␊
      ␊
      1..2␊
      # tests 2␊
      # pass  1␊
      # fail  1`,
    }
